<loader></loader>
<div class="main-container">
    <mat-toolbar color="primary" layout="row" class="main-toolbar" id="main-toolbar">
        <a mat-icon-button (click)="authenticated && snav.toggle()" *ngIf="!isDesktop()">
            <mat-icon fontSet="fa" fontIcon="fa-bars"></mat-icon>
        </a>
        <h1 class="main-app-name">
            <a id="main-app-name" routerLink="/">{{ appName }}</a>
        </h1>
        <span class="spacer"></span>
        <mat-icon fontSet="fas" fontIcon="fa-sign-in-alt" routerLink="/auth/login" [hidden]="hideLogin()"></mat-icon>
        <mat-icon fontSet="fas" fontIcon="fa-sign-out-alt" (click)="logout()" [hidden]="hideLogout()"></mat-icon>
    </mat-toolbar>
    <mat-sidenav-container class="main-sidenav-container" id="main-sidenav-container">
        <mat-sidenav class="main-sidenav" #snav [opened]="isDesktop() && authenticated"
                     [mode]="!isDesktop() && authenticated ? 'over' : 'side'"  >
            <mat-toolbar *ngIf="!isDesktop()">
                <mat-toolbar-row>
                    <h2> {{ appName }} </h2>
                </mat-toolbar-row>
            </mat-toolbar>
            <mat-nav-list>
                <ng-container *ngIf="isOnCalendar()">
                    <h2 matSubheader>Calendario</h2>
                    <a mat-list-item (click)="goToView()">
                        <span>
                            <mat-icon fontSet="fas" fontIcon="fa-calendar-day"></mat-icon>&nbsp;&nbsp;Oggi
                        </span>
                    </a>
                    <a mat-list-item (click)="goToView('day')">
                        <span>
                            <mat-icon fontSet="fas" fontIcon="fa-stream"></mat-icon>&nbsp;&nbsp;Giorno
                        </span>
                    </a>
                    <a mat-list-item (click)="goToView('week')">
                        <span>
                            <mat-icon fontSet="fas" fontIcon="fa-columns"></mat-icon>&nbsp;&nbsp;Settimana
                        </span>
                    </a>
                    <a mat-list-item (click)="goToView('month')">
                        <span>
                            <mat-icon fontSet="fas" fontIcon="fa-table"></mat-icon>&nbsp;&nbsp;Mese
                        </span>
                    </a>

                </ng-container>
                <ng-container [ngSwitch]="current_role_view">
                    <ng-container *ngSwitchCase="1" id="menu-admin">
                        <h2 matSubheader>Home</h2>
                        <a href=# mat-list-item
                           [routerLinkActive]="['active-link']"
                           routerLink="/admin/sales" (click)="closeNav()">
                            <span>
                                <mat-icon fontSet="fas" fontIcon="fa-receipt"></mat-icon>&nbsp;&nbsp;Vendite
                            </span>
                        </a>
                        <a href=# mat-list-item
                           [routerLinkActive]="['active-link']"
                           routerLink="/admin/users" (click)="closeNav()">
                            <span>
                                <mat-icon fontSet="fas" fontIcon="fa-users"></mat-icon>&nbsp;&nbsp;Utenti
                            </span>
                        </a>
                        <a href=# mat-list-item
                           [routerLinkActive]="['active-link']"
                           routerLink="/admin/bundleSpecs" (click)="closeNav()">
                            <span>
                                <mat-icon fontSet="fas" fontIcon="fa-box"></mat-icon>&nbsp;&nbsp;Pacchetti
                            </span>
                        </a>
                        <a href=# mat-list-item
                           [routerLinkActive]="['active-link']"
                           routerLink="/admin/calendar" (click)="closeNav()">
                            <span>
                                <mat-icon fontSet="fas" fontIcon="fa-calendar-alt"></mat-icon>&nbsp;&nbsp;Calendario
                            </span>
                        </a>
                    </ng-container>
                    <ng-container *ngSwitchCase="2" id="menu-trainer">
                        <h2 matSubheader>Home</h2>
                        <a href=# mat-list-item
                           [routerLinkActive]="['active-link']"
                           routerLink="/trainer/calendar" (click)="closeNav()">
                            <span>
                                <mat-icon fontSet="fas" fontIcon="fa-calendar-alt"></mat-icon>&nbsp;&nbsp;Calendario
                            </span>
                        </a>
                        <a href=# mat-list-item
                           [routerLinkActive]="['active-link']"
                           routerLink="/trainer/users" (click)="closeNav()">
                            <span>
                                <mat-icon fontSet="fas" fontIcon="fa-users"></mat-icon>&nbsp;&nbsp;Utenti
                            </span>
                        </a>
                        <a href=# mat-list-item
                           [routerLinkActive]="['active-link']"
                           routerLink="/trainer/bundleSpecs" (click)="closeNav()">
                            <span>
                                <mat-icon fontSet="fas" fontIcon="fa-box"></mat-icon>&nbsp;&nbsp;Pacchetti
                            </span>
                        </a>
                    </ng-container>
                    <ng-container *ngSwitchCase="3" id="menu-customer">
                        <h2 matSubheader>Home</h2>
                        <a href=# mat-list-item
                           [routerLinkActive]="['active-link']"
                           routerLink="/customer/sales" [queryParams]="{id: user.id}" (click)="closeNav()">
                            <span>
                                <mat-icon fontSet="fas" fontIcon="fa-receipt"></mat-icon>&nbsp;&nbsp;Ordini
                            </span>
                        </a>
                        <a href=# mat-list-item
                           [routerLinkActive]="['active-link']"
                           routerLink="/customer/calendar" (click)="closeNav()">
                            <span>
                                <mat-icon fontSet="fas" fontIcon="fa-calendar-alt"></mat-icon>&nbsp;&nbsp;Calendario
                            </span>
                        </a>
                        <a href=# mat-list-item
                           [routerLinkActive]="['active-link']"
                           routerLink="/customer/bundles" [queryParams]="{id: user.id}" (click)="closeNav()">
                            <span>
                                <mat-icon fontSet="fas" fontIcon="fa-box"></mat-icon>&nbsp;&nbsp;Pacchetti
                            </span>
                        </a>
                    </ng-container>
                </ng-container>

                <div id="menu-account">
                    <h2 matSubheader>Impostazioni</h2>
                    <a href=# mat-list-item
                       [routerLinkActive]="['active-link']"
                       routerLink="/profile" (click)="closeNav()">
                            <span>
                                <mat-icon fontSet="fas" fontIcon="fa-user"></mat-icon>&nbsp;&nbsp;I miei dettagli
                            </span>
                    </a>
                </div>
                <div id="menu-settings">
                    <a href=# mat-list-item
                       [routerLinkActive]="['active-link']"
                       routerLink="/settings/gym" (click)="closeNav()">
                        <span>
                            <mat-icon fontSet="fas" fontIcon="fa-store-alt"></mat-icon>&nbsp;&nbsp;La mia palestra
                        </span>
                    </a>
                </div>
            </mat-nav-list>
        </mat-sidenav>

        <mat-sidenav-content class="main-sidenav-content">
            <router-outlet></router-outlet>
        </mat-sidenav-content>
    </mat-sidenav-container>
</div>



