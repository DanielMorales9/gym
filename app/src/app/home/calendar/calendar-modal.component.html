<ng-template>
    <div class="modal-header">
        <h5 class="modal-title"> {{modalData?.title}}</h5>
        <button type="button" class="close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div [ngSwitch]="modalData?.action">
        <div *ngSwitchCase="'hour'">
        </div>
        <div *ngSwitchCase="'delete'">
            <div *ngIf="modalData?.role == 1">
                <div class="modal-body" >
                    <div>
                        Vuoi eliminare la chiusura ({{ modalData?.event.start | date :  'HH:mm a - dd/MM/yyyy'}}) ?
                        <br>
                        Conferma per eliminare oppure cancella.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" (click)="close()">Cancella</button>
                    <button type="button" class="btn btn-primary" (click)="delete(modalData)">Conferma</button>
                </div>
            </div>


        </div>
        <div *ngSwitchCase="'info'">
            <div *ngIf="modalData?.role < 3 && modalData?.event.meta.type=='reservation'">
                <div class="modal-body" >
                    <div class="row">
                        <div class="col-12">
                            <i class="fas fa-check" *ngIf="modalData.event.meta.confirmed"></i>
                            <i class="fas fa-check-double"
                               *ngIf="modalData.event.meta.confirmed && modalData.event.meta.session.completed"></i>
                            <i class="fas fa-ban" *ngIf="!modalData.event.meta.confirmed"></i>&nbsp;
                            L'allenamento dalle {{ modalData?.event.start | date :  'HH:mm a'}}
                            alle {{ modalData?.event.end | date :  'HH:mm a'}}
                            del cliente {{modalData.event.meta.user.lastName}}
                            <span *ngIf="!modalData.event.meta.confirmed"> non</span> è stato confermato e
                            <span *ngIf="!modalData.event.meta.session.completed"> non è stato </span> completato!
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" (click)="close()">Ok</button>
                    <button type="button"
                            class="btn btn-primary"
                            *ngIf="!modalData.event.meta.confirmed"
                            (click)="confirm(modalData?.event)">Conferma</button>
                    <button type="button"
                            class="btn btn-primary"
                            *ngIf="!modalData.event.meta.session.completed && modalData.event.meta.confirmed"
                            (click)="complete(modalData?.event)">Completa</button>
                </div>
            </div>
            <div *ngIf="modalData?.event.meta.type == 'admin'">
                <div class="modal-body" >
                    <div class="row">
                        <div class="col-12">
                            <i class="fas fa-door-closed"></i>&nbsp;
                            La palestra è chiusa il giorno {{ modalData?.event.start | date :  'dd-MM-yyyy'}}.
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" (click)="close()">Ok</button>
                </div>
            </div>
        </div>
        <div *ngSwitchDefault>
            <div class="modal-body">
                <div>
                    Action:
                    <pre>{{ modalData?.action }}</pre>
                </div>
                <div>
                    Event:
                    <pre>{{ modalData?.event | json }}</pre>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" (click)="close()">Ok</button>
            </div>
        </div>
    </div>

</ng-template>